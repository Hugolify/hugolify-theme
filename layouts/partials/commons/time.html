{{- $date := .date | default false -}}
{{- $format := .format | default "2006" -}}
{{- $itemprop := .itemprop | default "datePublished" -}}
{{ with $date }}
  <time 
    datetime="{{ (time.Format `2006-01-02T15:04:05Z07:00` .) | safeHTML }}" 
    {{- with $itemprop }} itemprop="{{ . }}"{{ end }}
    {{- if and site.Params.search.enable site.Params.search.sort }} data-pagefind-sort="date"{{ end }}>
      {{- . | time.Format $format -}}
  </time>
{{ end }}