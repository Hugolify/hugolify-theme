{{- $date := .Date -}}
{{- $format := ":date_full" -}}
{{- $itemprop := "datePublished" -}}
{{- if reflect.IsMap . -}}
  {{- $date = .date -}}
  {{- $format = .format | default $format -}}
  {{- $itemprop = .itemprop | default $itemprop -}}
{{ end }}
{{ with $date }}
  <p class="date">{{ partial "commons/time" (dict "date" . "format" $format "itemprop" $itemprop) }}</p>
{{ end }}