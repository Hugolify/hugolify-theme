{{- $location := .location -}}
{{- $tile := site.Params.tile | default false -}}
{{- $marker_hidden := .marker_hidden | default false -}}
{{- $defaultZoom := cond $marker_hidden 16 15 -}}
{{- $zoom := .zoom | default $defaultZoom -}}
{{- with $location -}}
<div class="map js-map" 
  data-markers="{{ . }}" 
  data-zoom="{{ $zoom }}"  
  {{- with $tile }} data-tile="{{ . }}"{{ end }}
  {{- if $marker_hidden }} data-marker-hidden="true"{{ end }}></div>
{{ end -}}