{{- $blocks := false -}}
{{- if reflect.IsMap . -}}
  {{- $layout := .layout -}}
  {{- with .context -}}
    {{- $blocks = .Params.blocks -}}
    {{- if $layout -}}
      {{- $blocks = index .Params (print "blocks_" $layout) -}}
    {{- end -}}
  {{- end -}}
{{- else -}}
  {{- $blocks = .Params.blocks -}}
{{- end -}}
{{- with $blocks -}}
  {{- partial "blocks/range.html" . -}}
{{- end -}}